(this["webpackJsonpfeedback-app"]=this["webpackJsonpfeedback-app"]||[]).push([[0],{33:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(26),i=c.n(a),s=(c(33),c(19)),j=c(3),l=c(22),d=c.n(l),b=c(2);function o(e){var t=e.text,c={backgroundColor:e.bgColor,color:e.textColor};return Object(b.jsx)("header",{style:c,children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("h2",{children:t})})})}o.defaultProps={text:"Feedback Ui",bgColor:"rgba(0,0,0,0.4)",textColor:"#ff6a95"},o.protoTypes={text:d.a.string,bgColor:d.a.string,textColor:d.a.string};var u=o,h=c(44),O=c(42),x=c(21);function m(e){var t=e.children,c=e.reverse;return Object(b.jsx)("div",{className:"card",style:{backgroundColor:c?"rgba(0,0,0,0.4)":"#fff",color:c?"#fff":"#000"},children:t})}m.defaultProps={reverse:!1};var p=m,f=c(25),v=c(28),g=c(24),k=c.n(g),y=c(27),C=c(6),F=c(43),N=Object(n.createContext)(),w=function(e){var t=e.children,c=Object(n.useState)([]),r=Object(C.a)(c,2),a=r[0],i=r[1],s=Object(n.useState)({item:{},edit:!1}),j=Object(C.a)(s,2),l=j[0],d=j[1];Object(n.useEffect)((function(){o()}),[]);var o=function(){var e=Object(y.a)(k.a.mark((function e(){var t,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:6001/feedback?_sort=id&_order=desc");case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,i(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(N.Provider,{value:{feedback:a,feedbackEdit:l,deleteFeedback:function(e){window.confirm("Are you sure you want to delete?")&&i(a.filter((function(t){return t.id!==e})))},addFeedback:function(e){e.id=Object(F.a)(),i([e].concat(Object(v.a)(a)))},editFeedback:function(e){d({item:e,edit:!0})},updateFeedback:function(e,t){i(a.map((function(c){return c.id===e?Object(f.a)(Object(f.a)({},c),t):c})))}},children:[" ",t]})},S=N;var E=function(e){var t=e.item,c=Object(n.useContext)(S),r=c.deleteFeedback,a=c.editFeedback;return Object(b.jsxs)(p,{children:[Object(b.jsx)("div",{className:"num-display",children:t.rating}),Object(b.jsx)("button",{onClick:function(){return r(t.id)},className:"close",children:Object(b.jsx)(x.c,{color:"purple"})}),Object(b.jsx)("button",{onClick:function(){return a(t)},className:"edit",children:Object(b.jsx)(x.a,{color:"purple"})}),Object(b.jsx)("div",{className:"text-display",children:t.text})]})};var T=function(){var e=Object(n.useContext)(S).feedback;return e&&0!==e.length?Object(b.jsx)("div",{className:"feedback-list",children:Object(b.jsx)(h.a,{children:e.map((function(e){return Object(b.jsx)(O.a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:Object(b.jsx)(E,{item:e},e.id)},e.id)}))})}):Object(b.jsx)("p",{children:"No Feedback yet!"})};var P=function(){var e=Object(n.useContext)(S).feedback,t=e.reduce((function(e,t){return e+t.rating}),0)/e.length;return t=t.toFixed(1).replace(/[.,]0$/,""),Object(b.jsxs)("div",{className:"feedback-stats",children:[Object(b.jsxs)("h4",{children:[e.length," Reviews"]}),Object(b.jsxs)("h4",{children:["Average Rating: ",isNaN(t)?0:t]})]})};function D(e){var t=e.children,c=e.version,n=e.type,r=e.isDisabled;return Object(b.jsx)("button",{type:n,disabled:r,className:"btn btn-".concat(c),children:t})}D.defaultProps={version:"primary",type:"button",isDisabled:!1};var A=D;var R=function(e){var t=e.select,c=Object(n.useState)(10),r=Object(C.a)(c,2),a=r[0],i=r[1],s=Object(n.useContext)(S).feedbackEdit;Object(n.useEffect)((function(){i(s.item.rating)}),[s]);var j=function(e){i(+e.currentTarget.value),t(+e.currentTarget.value)};return Object(b.jsxs)("ul",{className:"rating",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("input",{type:"radio",id:"num1",name:"rating",value:"1",onChange:j,checked:1===a}),Object(b.jsx)("label",{htmlFor:"num1",children:"1"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("input",{type:"radio",id:"num2",name:"rating",value:"2",onChange:j,checked:2===a}),Object(b.jsx)("label",{htmlFor:"num2",children:"2"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("input",{type:"radio",id:"num3",name:"rating",value:"3",onChange:j,checked:3===a}),Object(b.jsx)("label",{htmlFor:"num3",children:"3"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("input",{type:"radio",id:"num4",name:"rating",value:"4",onChange:j,checked:4===a}),Object(b.jsx)("label",{htmlFor:"num4",children:"4"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("input",{type:"radio",id:"num5",name:"rating",value:"5",onChange:j,checked:5===a}),Object(b.jsx)("label",{htmlFor:"num5",children:"5"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("input",{type:"radio",id:"num6",name:"rating",value:"6",onChange:j,checked:6===a}),Object(b.jsx)("label",{htmlFor:"num6",children:"6"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("input",{type:"radio",id:"num7",name:"rating",value:"7",onChange:j,checked:7===a}),Object(b.jsx)("label",{htmlFor:"num7",children:"7"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("input",{type:"radio",id:"num8",name:"rating",value:"8",onChange:j,checked:8===a}),Object(b.jsx)("label",{htmlFor:"num8",children:"8"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("input",{type:"radio",id:"num9",name:"rating",value:"9",onChange:j,checked:9===a}),Object(b.jsx)("label",{htmlFor:"num9",children:"9"})]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("input",{type:"radio",id:"num10",name:"rating",value:"10",onChange:j,checked:10===a}),Object(b.jsx)("label",{htmlFor:"num10",children:"10"})]})]})};var B=function(){var e=Object(n.useState)(""),t=Object(C.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(10),i=Object(C.a)(a,2),s=i[0],j=i[1],l=Object(n.useState)(!0),d=Object(C.a)(l,2),o=d[0],u=d[1],h=Object(n.useState)(""),O=Object(C.a)(h,2),x=O[0],m=O[1],f=Object(n.useContext)(S),v=f.addFeedback,g=f.feedbackEdit,k=f.updateFeedback;return Object(n.useEffect)((function(){!0===g.edit&&(u(!1),r(g.item.text),j(g.item.rating))}),[g]),Object(b.jsx)(p,{children:Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),c.trim().length>10){var t={text:c,rating:s};!0===g.edit?k(g.item.id,t):v(t),r("")}},children:[Object(b.jsx)("h2",{children:"How would you rate your service with us?"}),Object(b.jsx)(R,{select:function(e){return j(e)}}),Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("input",{onChange:function(e){""===c?(u(!0),m(null)):""!==c&&c.trim().length<=10?(u(!0),m("Text must be at least 10 characters")):(u(!1),m(null)),r(e.target.value)},type:"text",placeholder:"write a review",value:c}),Object(b.jsx)(A,{type:"submit",isDisabled:o,children:"Send "})]}),x&&Object(b.jsx)("div",{className:"message",children:x})]})})};var H=function(){return Object(b.jsx)(p,{children:Object(b.jsxs)("div",{className:"about",children:[Object(b.jsx)("h1",{children:"About This Project"}),Object(b.jsx)("p",{children:"This is a Reach app to leaver feedback fro a product or service"}),Object(b.jsx)("p",{children:"Version: 1.0.0"}),Object(b.jsx)("p",{children:Object(b.jsx)(s.b,{to:"/",children:"Back To Home"})})]})})};var J=function(){return Object(b.jsx)("div",{className:"about-link",children:Object(b.jsx)(s.b,{to:"/about",children:Object(b.jsx)(x.b,{size:30})})})};var _=function(){return Object(b.jsx)(w,{children:Object(b.jsxs)(s.a,{children:[Object(b.jsx)(u,{}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/",element:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(B,{}),Object(b.jsx)(P,{}),Object(b.jsx)(T,{})]})}),Object(b.jsx)(j.a,{path:"/about",element:Object(b.jsx)(H,{})})]}),Object(b.jsx)(J,{})]})]})})};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(_,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.0f94cf04.chunk.js.map